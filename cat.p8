pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
entities = {} -- all entities

function _init()
 p=cat:new()
end

function _update()
 for e in all(entities) do
  e:update()
 end
end

function _draw()
 cls()
 palt()
 palt(0, false)
 map(0, 0, 0, 0, 16, 16)
 palt(8, true)
 
	for e in all(entities) do
  e:draw()
 end
end
-->8
entity = {x=1,  y=1,
          dx=0, dy=0, d=1,
          ["spr"]=1}


function entity:new(o)
 o=o or {} --create if null
 setmetatable(o, self)
 self.__index=self
 add(entities,o)
 return o
end

function entity:update()
 --do nothing
end

function entity:draw()
 local sx = (self.x * 8)
 local sy = (self.y * 8)
 spr(self.spr, sx, sy)
end

cat=entity:new()

function cat:update()
 if btnp(⬆️) then self.dy-=1 end
 if btnp(⬇️) then self.dy+=1 end
 if btnp(⬅️) then self.dx-=1 end
 if btnp(➡️) then self.dx+=1 end
 self:move()
end

function cat:move()
 self.y+=self.dy
 self.x+=self.dx
 self.dy=0
 self.dx=0 
end
__gfx__
00000000008880800000000088888888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000088887070888888088888888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700088880000888888088888888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000888888088888888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000888888088888888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000888888088888888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000080880800888888088888888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000080880800000000088888888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
